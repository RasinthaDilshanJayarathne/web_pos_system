<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>RDJ POS System</title>
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <style>
        #posName {
            color: #198754;
            font-size: 25px;
            margin-left: 10px;
            margin-top: 5px;
            font-family: cursive;
        }
    </style>
</head>
<body style="background:#adb5bd">
<!--Navigation Bar-->
<section>
    <nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark ">
        <div class="container-fluid">
            <img alt="" src="assets/image/logo1.png" width="50">
            <h1 id="posName">RDJ POS System</h1>
            <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
                    class="navbar-toggler" data-bs-target="#navbarSupportedContent"
                    data-bs-toggle="collapse" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0" style="cursor: pointer">
                    <li id="navHome" class="nav-item" style="font-family: cursive; font-weight: bold;">
                        <a aria-current="page" class="nav-link active" >Home</a>
                    </li>
                    <li id="navCustomer" class="nav-item" style="font-family: cursive; font-weight: bold">
                        <a class="nav-link" >Customer</a>
                    </li>
                    <li id="navItem" class="nav-item" style="font-family: cursive; font-weight: bold">
                        <a class="nav-link" >Item</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</section>

<section id="placeOrder" class="container-fluid">
    <!--title (Place Order)-->
    <section>
        <img src="assets/image/placeOrder.png" class="rounded mx-auto d-block mt-3" alt="Customer image" width="120px">
        <h1 id="header" class="text-center" style="font-family: fantasy">Placement Of An Order</h1>
    </section>
    <!--details section-->
    <section class="row">
        <!--invoice details-->
        <div class="col-4 mt-3">
            <div class="card border-success mb-3" style="max-width: 30rem; min-height: 22rem">
                <div class="card-header text-white" style="font-weight: bold; background-color: #38ada9">Invoice Details</div>
                <div class="card-body">
                    <form>
                        <section class="row" style="width: 100%">
                            <div class="mb-2 col-6">
                                <label for="exampleInputId" class="form-label" style="font-weight: bold; font-size: 12px">Order ID</label>
                                <input type="text" class="form-control" id="exampleInputId" aria-describedby="idHelp">
                                <div id="idHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-6">
                                <label for="exampleInputDate" class="form-label" style="font-weight: bold; font-size: 12px">Date</label>
                                <input type="date" class="form-control" id="exampleInputDate" aria-describedby="dateHelp">
                                <div id="dateHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-6">
                                <label class="form-label" style="font-weight: bold; font-size: 12px">Customer ID</label>
                                <select class="form-select" aria-label="Default select example">
                                    <option selected>None</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                </select>
                            </div>
                            <div class="mb-2 col-6">
                                <label for="exampleInputItemName" class="form-label" style="font-weight: bold; font-size: 12px">Name</label>
                                <input type="text" class="form-control" id="exampleInputItemName" aria-describedby="itemNameHelp">
                                <div id="itemNameHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-6">
                                <label for="exampleInputTelephoneNo" class="form-label" style="font-weight: bold; font-size: 12px">Tel No</label>
                                <input type="text" class="form-control" id="exampleInputTelephoneNo" aria-describedby="telNoHelp">
                                <div id="telNoHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-6">
                                <label for="exampleInputAddress" class="form-label" style="font-weight: bold; font-size: 12px">Address</label>
                                <input type="text" class="form-control" id="exampleInputAddress" aria-describedby="addressHelp">
                                <div id="addressHelp" class="form-text"></div>
                            </div>
                        </section>
                    </form>
                </div>
            </div>
        </div>
        <!--item selection-->
        <div class="col-4 mt-3">
            <div class="card border-warning mb-3" style="max-width: 30rem; min-height: 22rem">
                <div class="card-header text-white" style="font-weight: bold; background-color: #f6b93b">Item Selection</div>
                <div class="card-body">
                    <form>
                        <section class="row" style="width: 100%">
                            <div class="mb-2 col-6">
                                <label class="form-label" style="font-weight: bold; font-size: 12px">Item ID</label>
                                <select class="form-select" aria-label="Default select example">
                                    <option selected>None</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                </select>
                            </div>
                            <div class="mb-2 col-6">
                                <label class="form-label" for="txtName" style="font-weight: bold; font-size: 12px">Name</label>
                                <input type="text" class="form-control" id="txtName" aria-describedby="nameHelp">
                                <div id="nameHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-6">
                                <label for="txtUnitPrice" class="form-label" style="font-weight: bold; font-size: 12px">Unit Price</label>
                                <input type="text" class="form-control" id="txtUnitPrice" aria-describedby="unitPriceHelp">
                                <div id="unitPriceHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-6">
                                <label for="txtQtyOnHand" class="form-label" style="font-weight: bold; font-size: 12px">QTY On Hand</label>
                                <input type="text" class="form-control" id="txtQtyOnHand" aria-describedby="qtyOnHandHelp">
                                <div id="qtyOnHandHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-12">
                                <label for="txtOrderQty" class="form-label" style="font-weight: bold; font-size: 12px">Order QTY</label>
                                <input type="text" class="form-control" id="txtOrderQty" aria-describedby="orderQtyHelp">
                                <div id="orderQtyHelp" class="form-text"></div>
                            </div>
                        </section>
                        <section class="row justify-content-center">
                            <div class="mt-2 col-5">
                                <button type="button" class="btn btn-primary  btn-sm">+Add</button>
                            </div>
                        </section>
                    </form>
                </div>
            </div>
        </div>
        <!--final totals-->
        <div class="col-4 mt-3">
            <div class="card border-dark mb-3" style="max-width: 30rem; min-height: 22rem">
                <div class="card-body">
                    <form>
                        <section class="row" style="width: 100%">
                            <div class="mb-2 col-12 mt-3">
                                <label for="txtName" class="form-label" style="font-weight: bold; font-size: 25px; color: #f53b57">Total :- </label>
                            </div>
                            <div class="mb-2 col-6 mt-3">
                                <label for="exampleInputCash" class="form-label" style="font-weight: bold; font-size: 12px">Cash</label>
                                <input type="text" class="form-control" id="exampleInputCash" aria-describedby="cashHelp">
                                <div id="cashHelp" class="form-text"></div>
                            </div>
                            <div class="mb-2 col-6 mt-3">
                                <label class="form-label" style="font-weight: bold; font-size: 12px">Discount</label>
                                <select class="form-select" aria-label="Default select example">
                                    <option selected>0.00</option>
                                    <option value="1">10</option>
                                    <option value="2">20</option>
                                    <option value="3">30</option>
                                    <option value="3">40</option>
                                    <option value="3">50</option>
                                    <option value="3">60</option>
                                    <option value="3">70</option>
                                    <option value="3">80</option>
                                    <option value="3">90</option>
                                    <option value="3">100</option>
                                </select>
                            </div>
                            <div class="mb-2 col-12 mt-4">
                                <label for="txtUnitPrice" class="form-label" style="font-weight: bold; font-size: 20px; color: #0fbcf9">Balance :- </label>
                            </div>
                        </section>
                        <section class="row justify-content-center">
                            <div class="mt-5 col-5">
                                <button type="button" class="btn btn-success  btn-sm">Purchase</button>
                            </div>
                        </section>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!--table-->
    <section>
        <table class="table table-primary table-striped mt-3 container-fluid">
            <thead>
            <tr>
                <th scope="col">Item Code</th>
                <th scope="col">Item Name</th>
                <th scope="col">Price</th>
                <th scope="col">Quantity</th>
                <th scope="col">Total</th>
            </tr>
            </thead>
            <tbody id="">

            </tbody>
        </table>
    </section>
</section>

<section id="item" class="container-fluid" >
    <!--title (Item)-->
    <section>
        <img src="assets/image/items.png" class="rounded mx-auto d-block mt-2" alt="Customer image" width="15%">
        <!--<h1 id="header" class="text-success text-center" style="color: black">Customer Registration Form</h1>-->
        <h1  class="text-center" style="font-family: fantasy">Items Registration Form</h1>
    </section>
    <!--Registration-->
    <section>
        <form>
            <section class="row mt-5" style="width: 100%">
                <section class="row" style="width: 100%">
                    <div class="mb-2 col-6">
                        <label class="form-label" for="txtItemCode" style="font-weight: bold">ID</label>
                        <input aria-describedby="idHelp1" class="form-control" id="txtItemCode" type="text">
                        <div class="form-text" id="idHelp1"></div>
                    </div>
                    <div class="mb-2 col-6">
                        <label class="form-label" for="txtItemName" style="font-weight: bold">Name</label>
                        <input aria-describedby="nameHelp1" class="form-control" id="txtItemName" type="text">
                        <div class="form-text" id="nameHelp1"></div>
                    </div>
                    <div class="mb-2 col-6">
                        <label class="form-label" for="txtItemPrice" style="font-weight: bold">Unit Price</label>
                        <input aria-describedby="unitPriceHelp1" class="form-control" id="txtItemPrice" type="text">
                        <div class="form-text" id="unitPriceHelp1"></div>
                    </div>
                    <div class="mb-2 col-6">
                        <label class="form-label" for="txtItemQTYOnHand" style="font-weight: bold">Quantity On
                            Hand</label>
                        <input aria-describedby="qtyOnHandHelp1" class="form-control" id="txtItemQTYOnHand" type="text">
                        <div class="form-text" id="qtyOnHandHelp1"></div>
                    </div>
                </section>
                <section class="d-grid gap-2 d-md-flex container-fluid mt-4">
                    <div class="mb-2 col-6">
                        <label for="searchBar" class="form-label"></label>
                        <input type="text" id="searchBar" class="form-control" placeholder="Search Customer">
                    </div>
                    <button id="btnSearch" type="button" class="btn btn-primary  btn-sm h-75 mt-3"style="font-size: 20px; font-weight: bold">Search</button>
                    <button id="btnUpdate" type="button" class="btn btn-warning  btn-sm h-75 mt-3"style="font-size: 20px;font-weight: bold">Update</button>
                    <button id="btnDelete" type="button" class="btn btn-danger  btn-sm h-75 mt-3"style="font-size: 20px;font-weight: bold">Delete</button>
                    <button id="btnAdd" type="button" class="btn btn-success  btn-sm h-75 mt-3"style="font-size: 20px;font-weight: bold" data-bs-toggle="modal" data-bs-target="#exampleModal">+New Item
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background: #fd7e14">
                                    <h5 class="modal-title" id="exampleModalLabel">Customer Registration Form</h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>
                                <div class="modal-body">
                                    <section class="row" style="width: 100%">
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopItemCode">Item Code</label>
                                            <input aria-describedby="idHelp" class="form-control" id="txtPopItemCode" type="text">
                                            <div class="form-text" id="codeHelp"></div>
                                        </div>
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopItemName">Name</label>
                                            <input aria-describedby="nameHelp2" class="form-control" id="txtPopItemName" type="text">
                                            <div class="form-text" id="nameHelp2"></div>
                                        </div>
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopItemQuntity">Quntity</label>
                                            <input aria-describedby="telNoHelp" class="form-control" id="txtPopItemQuntity" type="text">
                                            <div class="form-text" id="quntityHelp"></div>
                                        </div>
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopItemPrice">Price</label>
                                            <input aria-describedby="addressHelp" class="form-control" id="txtPopItemPrice"
                                                   type="text">
                                            <div class="form-text" id="priceHelp"></div>
                                        </div>
                                    </section>
                                </div>
                                <div class="modal-footer">
                                    <button id="popBtnAdd" class="btn btn-success  btn-sm" type="button">+Add</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>
        </form>
    </section>

    <section>
        <table class="table table-dark table-striped mt-3">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Unit Price</th>
                <th scope="col">Qty On Hand</th>
            </tr>
            </thead>
            <tbody id="itemTable">

        </table>
    </section>
</section>

<section id="customer" class="container-fluid" >
    <!--title (Customer)-->
    <section>
        <img src="assets/image/customer.png" class="rounded mx-auto d-block mt-2" alt="Customer image" width="15%">
        <!--<h1 id="header" class="text-success text-center" style="color: black">Customer Registration Form</h1>-->
        <h1  class="text-center" style="font-family: fantasy">Customer Registration Form</h1>
    </section>
    <!--Registration-->
    <section>
        <form>
            <section class="row mt-5" style="width: 100%">
                <div class="mb-2 col-6">
                    <label for="txtCustId" class="form-label" style="font-weight: bold">ID</label>
                    <input type="text" class="form-control" id="txtCustId" aria-describedby="idHelp3">
                    <div id="idHelp3" class="form-text"></div>
                </div>
                <div class="mb-2 col-6">
                    <label for="txtCustName" class="form-label" style="font-weight: bold">Name</label>
                    <input type="text" class="form-control" id="txtCustName" aria-describedby="nameHelp3">
                    <div id="nameHelp3" class="form-text"></div>
                </div>
                <div class="mb-2 col-6">
                    <label for="txtCustAddress" class="form-label" style="font-weight: bold">Address</label>
                    <input type="text" class="form-control" id="txtCustAddress" aria-describedby="addressHelp3">
                    <div id="addressHelp3" class="form-text"></div>
                </div>
                <div class="mb-2 col-6">
                    <label for="txtCustPhoneNo" class="form-label" style="font-weight: bold">Telephone No</label>
                    <input type="text" class="form-control" id="txtCustPhoneNo" aria-describedby="telNoHelp3">
                    <div id="telNoHelp3" class="form-text"></div>
                </div>
                <section class="d-grid gap-2 d-md-flex container-fluid mt-4">
                    <div class="mb-2 col-6">
                        <label for="searchBar3" class="form-label"></label>
                        <input type="text" id="searchBar3" class="form-control" placeholder="Search Customer">
                    </div>
                    <button type="button" class="btn btn-primary  btn-sm h-75 mt-3"style="font-size: 20px; font-weight: bold">Search</button>
                    <button type="button" class="btn btn-warning  btn-sm h-75 mt-3"style="font-size: 20px;font-weight: bold">Update</button>
                    <button type="button" class="btn btn-danger  btn-sm h-75 mt-3"style="font-size: 20px;font-weight: bold">Delete</button>
                    <button type="button" class="btn btn-success  btn-sm h-75 mt-3"style="font-size: 20px;font-weight: bold" data-bs-toggle="modal" data-bs-target="#customerPopUp">+New Customer
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="customerPopUp" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header" style="background: #fd7e14">
                                    <h5 class="modal-title" id="exampleModalLabel3">Customer Registration Form</h5>
                                    <button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                                </div>
                                <div class="modal-body" >
                                    <section class="row" style="width: 100%">
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopCustId">ID</label>
                                            <input aria-describedby="idHelp" class="form-control" id="txtPopCustId" type="text">
                                            <div class="form-text" id="id"></div>
                                            <p><small id="error" class="text-danger p-1"></small></p>
                                        </div>
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopCustName">Name</label>
                                            <input aria-describedby="nameHelp" class="form-control" id="txtPopCustName" type="text">
                                            <div class="form-text" id="name"></div>
                                        </div>
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopCustAddress">Address</label>
                                            <input aria-describedby="addressHelp" class="form-control" id="txtPopCustAddress"
                                                   type="text">
                                            <div class="form-text" id="address"></div>
                                        </div>
                                        <div class="mb-2 col-6">
                                            <label class="form-label" for="txtPopCustPhone">Telephone No</label>
                                            <input aria-describedby="telNoHelp" class="form-control" id="txtPopCustPhone"
                                                   type="text">
                                            <div class="form-text" id="telNo"></div>
                                        </div>
                                    </section>
                                </div>
                                <div class="modal-footer">
                                    <button id="popCustBtnAdd" class="btn btn-success  btn-sm" type="button">+Add</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>
        </form>
    </section>

    <section>
        <table class="table table-dark table-striped mt-3">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Address</th>
                <th scope="col">Tel No</th>
            </tr>
            </thead>
            <tbody id="customerTable">

            </tbody>
        </table>
    </section>
</section>

<script src="assets/jquery-3.6.0.min.js"></script>
<script>
    document.getElementById("customer").style.display="none";
    document.getElementById("item").style.display="none";
    document.getElementById("placeOrder").style.display="block";

    document.getElementById("navHome").addEventListener("click",function (){
        document.getElementById("placeOrder").style.display="block";
        document.getElementById("customer").style.display="none";
        document.getElementById("item").style.display="none";
    });

    document.getElementById("navItem").addEventListener("click",function (){
        document.getElementById("placeOrder").style.display="none";
        document.getElementById("customer").style.display="none";
        document.getElementById("item").style.display="block";
    });

    document.getElementById("navCustomer").addEventListener("click",function (){
        document.getElementById("placeOrder").style.display="none";
        document.getElementById("customer").style.display="block";
        document.getElementById("item").style.display="none";
    });

    /*======================================================================================================================*/

    $("#popBtnAdd").click(function () {

        $("#itemTable>tr").off("click");

        let itemCode = $("#txtPopItemCode").val();
        let itemName = $("#txtPopItemName").val();
        let itemPrice = $("#txtPopItemPrice").val();
        let itemQtyOnHand = $("#txtPopItemQuntity").val();

        console.log(itemCode, itemName, itemPrice, itemQtyOnHand);
        console.log(typeof itemCode, typeof itemName, typeof itemPrice, typeof itemQtyOnHand);

        let row = `<tr><td>${itemCode}</td><td>${itemName}</td><td>${itemPrice}</td><td>${itemQtyOnHand}</td></tr>`;
        console.log(row);

        $("#itemTable").append(row);

        $("#itemTable>tr").click(function () {
           /* console.log($(this));*/

            let itemCode1 = $(this).children(":eq(0)").text();
            let itemName1 = $(this).children(":eq(1)").text();
            let itemPrice1 = $(this).children(":eq(2)").text();
            let itemQtyOnHand1 = $(this).children(":eq(3)").text();

            console.log(itemCode1, itemName1, itemPrice1, itemQtyOnHand1);

            $("#txtItemCode").val(itemCode1);
            $("#txtItemName").val(itemName1);
            $("#txtItemPrice").val(itemPrice1);
            $("#txtItemQTYOnHand").val(itemQtyOnHand1);
        });

        $("#itemTable>tr").dblclick(function (){
            $(this).remove();
        });
    });

    $("#txtPopItemCode").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtPopItemName").focus();
        }
    });

    $("#txtPopItemName").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtPopItemQuntity").focus();
        }
    });

    $("#txtPopItemQuntity").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtPopItemPrice").focus();
        }
    });

    $("#txtItemCode").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtItemName").focus();
        }
    });

    $("#txtItemName").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtItemPrice").focus();
        }
    });

    $("#txtItemPrice").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtItemQTYOnHand").focus();
        }
    });

    /*======================================================================================================================*/

    $("#popCustBtnAdd").click(function () {

       /* $("#customerTable>tr").of("click");*/

        let customerId = $("#txtPopCustId").val();
        let customerName = $("#txtPopCustName").val();
        let customerAddress = $("#txtPopCustAddress").val();
        let customerPhone = $("#txtPopCustPhone").val();

        console.log(customerId, customerName, customerAddress, customerPhone);
        console.log(typeof customerId, typeof customerName, typeof customerAddress, typeof customerPhone);

        let row = `<tr><td>${customerId}</td><td>${customerName}</td><td>${customerAddress}</td><td>${customerPhone}</td></tr>`;
        console.log(row);

        $("#customerTable").append(row);

        $("#customerTable>tr").click(function () {
            /*console.log($(this));*/
            let customerId1 = $(this).children(":eq(0)").text();
            let customerName1 = $(this).children(":eq(1)").text();
            let customerAddress1 = $(this).children(":eq(2)").text();
            let customerPhone1 = $(this).children(":eq(3)").text();

            console.log(customerId1, customerName1, customerAddress1, customerPhone1);

            $("#txtCustId").val(customerId1);
            $("#txtCustName").val(customerName1);
            $("#txtCustAddress").val(customerAddress1);
            $("#txtCustPhoneNo").val(customerPhone1);
        });

        $("#customerTable>tr").dblclick(function (){
            $(this).remove();
        });
    });
    var regExCusID=/^(C00-)[0-9]{3,4}$/;

    $("#txtPopCustId").keyup(function (event){
        let input =  $("#txtPopCustId").val();

        if (regExCusID.test(input)){
            $("#txtPopCustId").css('border','2px solid green');
            $("#error").text("");

            if (event.key=="Enter"){
                $("#txtPopCustName").focus();
            }
        }else {
            $("#txtPopCustId").css('border','2px solid red');
            $("#error").text("Wrong format:C00-001");
        }
    });

    $("#txtPopCustName").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtPopCustAddress").focus();
        }
    });

    $("#txtPopCustAddress").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtPopCustPhone").focus();
        }
    });

    $("#txtCustId").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtCustName").focus();
        }
    });

    $("#txtCustName").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtCustAddress").focus();
        }
    });

    $("#txtCustAddress").keydown(function (event){
        if (event.key=="Enter"){
            $("#txtCustPhoneNo").focus();
        }
    });

</script>
<script crossorigin="anonymous"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>
</html>
